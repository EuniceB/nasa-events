{"version":3,"sources":["components/EventPin.jsx","components/Map.jsx","components/InformationOverlay.jsx","components/Alert.jsx","components/Dropdown.jsx","utils.js","components/Filters.jsx","components/Header.jsx","components/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["categoryIcon","wildfires","drought","dustHaze","earthquakes","floods","landslides","manmade","seaLakeIce","severeStorms","snow","tempExtremes","volcanoes","waterColor","categoryColor","EventPin","event","showEventInfo","className","onClick","e","stopPropagation","icon","category","width","color","Map","events","resetEvent","useState","center","setCenter","mapEvents","setMapEvents","useEffect","cleanEvents","filter","ev","geometry","some","g","type","map","latestGeometry","sort","a","b","Date","date","id","description","title","lat","coordinates","lng","categories","length","sumOfLatLon","reduce","result","curr","calculateCenter","mapHeight","document","getElementsByTagName","window","innerHeight","clientHeight","style","height","bootstrapURLKeys","key","v","zoom","InformationOverlay","toLocaleDateString","Alert","alert","Dropdown","options","onChange","defaultOptionIndex","open","setOpen","selectedOption","setSelectedOption","JSON","stringify","max","Math","Number","MIN_SAFE_INTEGER","tabIndex","onBlur","option","value","onSelectedOption","defaultProps","calculateDaysSince","now","diff","floor","getTime","timePeriods","days","Filters","setSelectedCategory","setSelectedTimePeriod","push","getFullYear","getMonth","addMonthAnYearToTimePeriodOptions","Header","href","Home","selectedEvent","setSelectedEvent","timePeriod","App","setEvents","setCategories","selectedCategory","selectedTimePeriod","setAlert","showAlert","message","setTimeout","url","axios","get","data","updateEvents","fetchCategories","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b622ed10.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport Icon from '@iconify/react';\r\nimport wildfires from '@iconify/icons-mdi/fire';\r\nimport severeStorms from '@iconify/icons-mdi/windsock';\r\nimport seaLakeIce from '@iconify/icons-mdi/snowflake';\r\nimport drought from '@iconify/icons-mdi/water-off';\r\nimport dustHaze from '@iconify/icons-mdi/google-podcast';\r\nimport earthquakes from '@iconify/icons-mdi/waveform'\r\nimport floods from '@iconify/icons-mdi/flood';\r\nimport landslides from '@iconify/icons-mdi/slope-downhill';\r\nimport manmade from '@iconify/icons-mdi/foot-print';\r\nimport snow from '@iconify/icons-mdi/weather-snowy';\r\nimport tempExtremes from '@iconify/icons-mdi/temperature-alert';\r\nimport volcanoes from '@iconify/icons-mdi/image-size-select-actual';\r\nimport waterColor from '@iconify/icons-mdi/waves';\r\n\r\nconst categoryIcon = {\r\n    wildfires,\r\n    drought,\r\n    dustHaze,\r\n    earthquakes,\r\n    floods,\r\n    landslides,\r\n    manmade,\r\n    seaLakeIce,\r\n    severeStorms,\r\n    snow,\r\n    tempExtremes,\r\n    volcanoes,\r\n    waterColor\r\n}\r\n\r\nconst categoryColor = {\r\n    wildfires: 'red',\r\n    drought: 'yellow',\r\n    dustHaze: 'brown',\r\n    earthquakes: 'black',\r\n    floods: 'blue',\r\n    landslides: 'brown',\r\n    manmade: 'black',\r\n    seaLakeIce: 'blue',\r\n    severeStorms: 'black',\r\n    snow: 'blue',\r\n    tempExtremes: 'red',\r\n    volcanoes: 'red',\r\n    waterColor: 'purple'\r\n}\r\n\r\nconst EventPin = ({ event, showEventInfo }) => <div className=\"pin\" onClick={(e) => {e.stopPropagation();showEventInfo(event)}}>\r\n    <Icon icon={categoryIcon[event.category]} width=\"24px\" color={categoryColor[event.category]} />\r\n</div>;\r\n\r\nEventPin.propTypes = {\r\n    event: PropTypes.object.isRequired,\r\n    showEventInfo: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default EventPin;","import React, { useState, useEffect } from \"react\";\r\nimport EventPin from \"./EventPin\";\r\nimport GoogleMap from \"google-map-react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst getCleanEvents = (dirtyEvents) => {\r\n  return dirtyEvents\r\n    .filter((ev) => ev.geometry.some((g) => g.type === \"Point\"))\r\n    .map((event) => {\r\n      const latestGeometry = event.geometry.sort(\r\n        (a, b) => new Date(b.date) - new Date(a.date)\r\n      )[0];\r\n\r\n      return {\r\n        id: event.id,\r\n        description: event.description,\r\n        title: event.title,\r\n        lat: latestGeometry.coordinates[1],\r\n        lng: latestGeometry.coordinates[0],\r\n        date: latestGeometry.date,\r\n        category: event.categories[0].id,\r\n      };\r\n    });\r\n};\r\n\r\nconst calculateCenter = (events) => {\r\n  const sumOfLatLon = events.reduce(\r\n    (result, curr) => [result[0] + curr.lat, result[1] + curr.lng],\r\n    [0, 0]\r\n  );\r\n  return [sumOfLatLon[0] / events.length, sumOfLatLon[1] / events.length];\r\n};\r\n\r\nconst Map = ({ events, showEventInfo, resetEvent }) => {\r\n  const [center, setCenter] = useState([36.22592, -35.97138]);\r\n  const [mapEvents, setMapEvents] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const cleanEvents = getCleanEvents(events);\r\n    setMapEvents(cleanEvents);\r\n\r\n    if (cleanEvents.length > 0) {\r\n      setCenter(calculateCenter(cleanEvents));\r\n    }\r\n  }, [events]);\r\n\r\n  const renderEvents = () => {\r\n    return mapEvents.map((event) => {\r\n      return (\r\n        <EventPin\r\n          key={event.id}\r\n          lat={event.lat}\r\n          lng={event.lng}\r\n          event={event}\r\n          showEventInfo={showEventInfo}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  let mapHeight = 0;\r\n  if (document.getElementsByTagName(\"header\").length > 0) {\r\n    mapHeight =\r\n      window.innerHeight -\r\n      document.getElementsByTagName(\"header\")[0].clientHeight +\r\n      \"px\";\r\n  }\r\n\r\n  return (\r\n    <div style={{ width: \"100vw\", height: mapHeight }}>\r\n      <GoogleMap\r\n        bootstrapURLKeys={{\r\n          key: \"AIzaSyCzWNIl6YwU2ibmZQonkytVOWzcIXxAxzA\",\r\n          v: \"3.43\",\r\n        }}\r\n        center={center}\r\n        onClick={() => resetEvent()}\r\n        zoom={3}\r\n      >\r\n        {renderEvents()}\r\n      </GoogleMap>\r\n    </div>\r\n  );\r\n};\r\n\r\nMap.propTypes = {\r\n  events: PropTypes.array,\r\n  showEventInfo: PropTypes.func,\r\n  resetEvent: PropTypes.func,\r\n};\r\n\r\nexport default Map;\r\n","const InformationOverlay = ( { event: { title, description, date } }) => {\r\n    return <div className=\"card information-overlay\">\r\n        <h2>{title}</h2>\r\n        <p>{new Date(date).toLocaleDateString()}</p>\r\n        {description && <p>{description}</p>}\r\n    </div>\r\n}\r\nexport default InformationOverlay;","const Alert = ({ alert }) => (\r\n  <div className=\"alert\">\r\n    <div className=\"card\">{alert}</div>\r\n  </div>\r\n);\r\nexport default Alert;\r\n","import PropTypes from \"prop-types\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst Dropdown = ({ title, options, onChange, defaultOptionIndex }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (options.length > defaultOptionIndex) {\r\n      setSelectedOption(options[defaultOptionIndex]);\r\n    }\r\n  }, [JSON.stringify(options), options, defaultOptionIndex]);\r\n\r\n  const onSelectedOption = (option) => {\r\n    onChange(option);\r\n    setSelectedOption(option);\r\n    setOpen(false);\r\n  };\r\n\r\n  const width =\r\n    options.reduce(\r\n      (max, curr) => Math.max(max, curr.title.length),\r\n      Number.MIN_SAFE_INTEGER\r\n    ) *\r\n      9 +\r\n    30;\r\n\r\n  return (\r\n    <div\r\n      className={`dropdown${open ? \" open\" : \"\"}`}\r\n      style={{ width: `${width}px` }}\r\n      tabIndex=\"0\"\r\n      onBlur={() => setOpen(false)}\r\n    >\r\n      <div className=\"dropdown-header\" onClick={() => setOpen(!open)}>\r\n        <div className=\"dropdown-trigger\">\r\n          {selectedOption ? selectedOption.title : title}\r\n        </div>\r\n        <div className=\"dropdown-arrow\"></div>\r\n      </div>\r\n      {open && (\r\n        <ul>\r\n          {options.map((option) => (\r\n            <li\r\n              key={option.id}\r\n              value={option.id}\r\n              onClick={() => onSelectedOption(option)}\r\n            >\r\n              {option.title}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  title: PropTypes.string,\r\n  options: PropTypes.array,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nDropdown.defaultProps = {\r\n  title: \"Options\",\r\n  options: [],\r\n  onChange: null,\r\n  defaultOptionIndex: null,\r\n};\r\n\r\nexport default Dropdown;\r\n","const calculateDaysSince = (date) => {\r\n  const now = new Date();\r\n  const diff = Math.floor(date.getTime() - now.getTime());\r\n  const day = 1000 * 60 * 60 * 24;\r\n\r\n  return -Math.floor(diff / day);\r\n};\r\nexport { calculateDaysSince };\r\n","import { useEffect } from \"react\";\r\nimport Dropdown from \"./Dropdown\";\r\nimport { calculateDaysSince } from \"../utils\";\r\n\r\nconst timePeriods = [\r\n  { id: 1, title: \"Today\", days: 1 },\r\n  { id: 2, title: \"Last 7 days\", days: 7 },\r\n  { id: 3, title: \"Last 2 weeks\", days: 15 },\r\n];\r\n\r\nconst addMonthAnYearToTimePeriodOptions = () => {\r\n  const now = new Date();\r\n  timePeriods.push({\r\n    title: \"This month\",\r\n    days: calculateDaysSince(new Date(now.getFullYear(), now.getMonth(), 1)),\r\n    id: 4,\r\n  });\r\n  timePeriods.push({\r\n    title: \"This year\",\r\n    days: calculateDaysSince(new Date(now.getFullYear(), 0, 1)),\r\n    id: 5,\r\n  });\r\n};\r\n\r\nconst Filters = ({\r\n  categories,\r\n  setSelectedCategory,\r\n  setSelectedTimePeriod,\r\n}) => {\r\n  useEffect(() => {\r\n    addMonthAnYearToTimePeriodOptions();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"filters\">\r\n      {categories && categories.length > 0 && (\r\n        <Dropdown\r\n          title={\"Category\"}\r\n          options={categories}\r\n          defaultOptionIndex={10}\r\n          onChange={setSelectedCategory}\r\n        />\r\n      )}\r\n      {timePeriods && timePeriods.length === 5 && (\r\n        <Dropdown\r\n          title={\"Time period\"}\r\n          options={timePeriods}\r\n          defaultOptionIndex={4}\r\n          onChange={setSelectedTimePeriod}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Filters;\r\n","import Filters from \"./Filters\";\r\n\r\nconst Header = ({ categories, setSelectedCategory, setSelectedTimePeriod }) => {\r\n  return (\r\n    <header>\r\n      <div>\r\n        <h1>NASA Events</h1>\r\n        <div className=\"desc\">Developed by <a href=\"https://eunice.dev\">Eunice Beijinho</a>, powered by NASA.</div>\r\n      </div>\r\n      <Filters\r\n        categories={categories}\r\n        setSelectedCategory={setSelectedCategory}\r\n        setSelectedTimePeriod={setSelectedTimePeriod}\r\n      />\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import Map from \"./Map\";\r\nimport InformationOverlay from \"./InformationOverlay\";\r\nimport PropTypes from \"prop-types\";\r\nimport Alert from \"./Alert\";\r\nimport { useState } from \"react\";\r\nimport Header from \"./Header\";\r\n\r\nconst Home = ({\r\n  categories,\r\n  events,\r\n  alert,\r\n  setSelectedCategory,\r\n  setSelectedTimePeriod,\r\n}) => {\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  const setCategory = (category) => {\r\n    setSelectedEvent(null);\r\n    setSelectedCategory(category);\r\n  }\r\n\r\n  const setTimePeriod = (timePeriod) => {\r\n    setSelectedEvent(null);\r\n    setSelectedTimePeriod(timePeriod);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header categories={categories} setSelectedCategory={setCategory} setSelectedTimePeriod={setTimePeriod}/>\r\n      <Map events={events} showEventInfo={(event) => setSelectedEvent(event)} resetEvent={() => setSelectedEvent(null)} />\r\n      {selectedEvent && <InformationOverlay event={selectedEvent} />}\r\n      {alert && <Alert alert={alert} />}\r\n    </>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  events: PropTypes.array,\r\n  categories: PropTypes.array,\r\n  setSelectedCategory: PropTypes.func,\r\n  setSelectedTimePeriod: PropTypes.func,\r\n  alert: PropTypes.string,\r\n};\r\n\r\nHome.defaultProps = {\r\n  events: [],\r\n  categories: [],\r\n  setSelectedCategory: null,\r\n  setSelectedTimePeriod: null,\r\n  alert: null,\r\n};\r\n\r\nexport default Home;\r\n","import Home from \"./components/Home\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { calculateDaysSince } from \"./utils\";\r\n\r\nconst App = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState({\r\n    title: \"Volcanoes\",\r\n    id: \"volcanoes\",\r\n  });\r\n  const now = new Date();\r\n  const [selectedTimePeriod, setSelectedTimePeriod] = useState({\r\n    title: \"This year\",\r\n    days: calculateDaysSince(new Date(now.getFullYear(), 0, 1)),\r\n    id: 5,\r\n  });\r\n  const [alert, setAlert] = useState(null);\r\n\r\n  const showAlert = (message) => {\r\n    setAlert(message);\r\n    setTimeout(() => {\r\n      setAlert(null);\r\n    }, 2000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const updateEvents = async () => {\r\n      let url = selectedCategory\r\n        ? `https://eonet.gsfc.nasa.gov/api/v3/categories/${selectedCategory.id}`\r\n        : \"https://eonet.gsfc.nasa.gov/api/v3/events\";\r\n      url += selectedTimePeriod ? \"?days=\" + selectedTimePeriod.days : \"\";\r\n      const { data } = await axios.get(url);\r\n      setEvents(data.events);\r\n      if (data.events.length === 0) {\r\n        showAlert(\"We found no events. Try another category or time.\");\r\n      } else {\r\n        showAlert(`${data.events.length} events found.`);\r\n      }\r\n    };\r\n\r\n    updateEvents();\r\n  }, [selectedCategory, selectedTimePeriod]);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      const { data } = await axios.get(\r\n        \"https://eonet.sci.gsfc.nasa.gov/api/v3/categories\"\r\n      );\r\n      setCategories(data.categories);\r\n    };\r\n\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <Home\r\n      events={events}\r\n      categories={categories}\r\n      setSelectedCategory={(category) => setSelectedCategory(category)}\r\n      setSelectedTimePeriod={(timePeriod) => setSelectedTimePeriod(timePeriod)}\r\n      alert={alert}\r\n    />\r\n  );\r\n};\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}